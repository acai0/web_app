{"remainingRequest":"C:\\Users\\chris\\Downloads\\Coop-test\\Coop-main\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\chris\\Downloads\\Coop-test\\Coop-main\\src\\components\\Message.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\chris\\Downloads\\Coop-test\\Coop-main\\src\\components\\Message.vue","mtime":1645695165000},{"path":"C:\\Users\\chris\\Downloads\\Coop-test\\Coop-main\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1648803903617},{"path":"C:\\Users\\chris\\Downloads\\Coop-test\\Coop-main\\node_modules\\babel-loader\\lib\\index.js","mtime":1648803908579},{"path":"C:\\Users\\chris\\Downloads\\Coop-test\\Coop-main\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1648803903617},{"path":"C:\\Users\\chris\\Downloads\\Coop-test\\Coop-main\\node_modules\\vue-loader\\lib\\index.js","mtime":1648803909434}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmV4cG9ydCBkZWZhdWx0IHsKICBwcm9wczogWyJtZXNzYWdlIl0sCiAgZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIGFmZmljaGVyOiB0cnVlLAogICAgfTsKICB9LAogIGNvbXB1dGVkOiB7CiAgICBtZW1iZXIoKSB7CiAgICAgIHJldHVybiB0aGlzLiRzdG9yZS5nZXR0ZXJzLmdldE1lbWJlcih0aGlzLm1lc3NhZ2UubWVtYmVyX2lkKTsKICAgIH0sCiAgICBkYXRlTWVzc2FnZSgpIHsKICAgICAgbGV0IGRhdGUgPSBuZXcgRGF0ZSh0aGlzLm1lc3NhZ2UuY3JlYXRlZF9hdCk7CiAgICAgIHJldHVybiAoCiAgICAgICAgZGF0ZS50b0xvY2FsZURhdGVTdHJpbmcoImZyLUZSIikgKwogICAgICAgICIgw6AgIiArCiAgICAgICAgZGF0ZS50b0xvY2FsZVRpbWVTdHJpbmcoImZyLUZSIikKICAgICAgKTsKICAgIH0sCiAgfSwKICBtZXRob2RzOiB7CiAgICBkZWxldGVNZXNzYWdlKCkgewogICAgICBpZiAoY29uZmlybSgiw6p0ZXMtdm91cyBzw7tyZSBkZSB2b3Vsb2lyIHN1cHByaW1lciBsZSBtZXNzYWdlID8iKSkgewogICAgICAgIHRoaXMuJGFwaQogICAgICAgICAgLmRlbGV0ZSgKICAgICAgICAgICAgYGNoYW5uZWxzLyR7dGhpcy5tZXNzYWdlLmNoYW5uZWxfaWR9L3Bvc3RzLyR7dGhpcy5tZXNzYWdlLmlkfWAKICAgICAgICAgICkKICAgICAgICAgIC50aGVuKCgpID0+IHsKICAgICAgICAgICAgdGhpcy5hZmZpY2hlciA9IGZhbHNlOwogICAgICAgICAgfSkKICAgICAgICAgIC5jYXRjaCgoZXJyb3IpID0+IHsKICAgICAgICAgICAgaWYgKGVycm9yLnJlc3BvbnNlLmRhdGEubWVzc2FnZSkgewogICAgICAgICAgICAgIGFsZXJ0KGVycm9yLnJlc3BvbnNlLmRhdGEubWVzc2FnZSk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0pOwogICAgICB9CiAgICB9LAogIH0sCn07Cg=="},{"version":3,"sources":["Message.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAiCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Message.vue","sourceRoot":"src/components","sourcesContent":["<template>\n  <transition name=\"fade\">\n    <article class=\"media box\" v-if=\"member && afficher\">\n      <figure class=\"media-left\">\n        <p class=\"image is-64x64\">\n          <img :src=\"avatar(member)\" />\n        </p>\n      </figure>\n      <div class=\"media-content\">\n        <div class=\"content\">\n          <p>\n            <router-link\n              :to=\"{ name: 'Member', params: { idMember: member.id } }\"\n            >\n              <strong>{{ member.fullname }}</strong>\n            </router-link> <small>{{ member.email }}</small>\n            <br />\n            <span v-html=\"message.message\"></span>\n            <br />\n            <small>{{ dateMessage }}</small>\n          </p>\n        </div>\n      </div>\n      <div\n        class=\"media-right\"\n        v-if=\"message.member_id == $store.state.member.id\"\n      >\n        <a @click=\"deleteMessage\" div=\"box\" class=\"button delete is-danger\"></a>\n      </div>\n    </article>\n  </transition>\n</template>\n<script>\nexport default {\n  props: [\"message\"],\n  data() {\n    return {\n      afficher: true,\n    };\n  },\n  computed: {\n    member() {\n      return this.$store.getters.getMember(this.message.member_id);\n    },\n    dateMessage() {\n      let date = new Date(this.message.created_at);\n      return (\n        date.toLocaleDateString(\"fr-FR\") +\n        \" à \" +\n        date.toLocaleTimeString(\"fr-FR\")\n      );\n    },\n  },\n  methods: {\n    deleteMessage() {\n      if (confirm(\"êtes-vous sûre de vouloir supprimer le message ?\")) {\n        this.$api\n          .delete(\n            `channels/${this.message.channel_id}/posts/${this.message.id}`\n          )\n          .then(() => {\n            this.afficher = false;\n          })\n          .catch((error) => {\n            if (error.response.data.message) {\n              alert(error.response.data.message);\n            }\n          });\n      }\n    },\n  },\n};\n</script>\n\n<style>\n.fade-enter-active,\n.fade-leave-active {\n  transition: opacity 0.5s;\n}\n.fade-enter,\n.fade-leave-to {\n  opacity: 0;\n}\n</style>\n"]}]}